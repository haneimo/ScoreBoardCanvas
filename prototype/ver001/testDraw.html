<html>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="st2draw.js"></script>
  <script>
    $(function(){
      st2draw.WIDTH_SPAN = 128;
      var canv = $('#canv').get(0).getContext('2d');
      var data = {type:'TN',data:
        [[{player:"�Ō�̔ӎ`�F�h�m���l", win: 0}, {player:"sasimi",win:1}],
         {player:"hoge", win:1} ]};

      canv.font = "bold 18px 'MS P�S�V�b�N'";
      st2draw.drawNameCallback = function(name, point, width){
        var pading = 4;
        var adjustHeight = 8;
        canv.fillText(name, point[0]+pading,
          point[1] + adjustHeight, width-4*pading);
      }

      st2draw.drawLineCallback = function(start, end, color){
        canv.beginPath();
        canv.strokeStyle = color;
        canv.lineWidth = 4;
        canv.moveTo(start[0], start[1]);
        canv.lineTo(end[0], end[1]);
        canv.closePath();
        canv.stroke();
      }

      var pointed;
      $('#dbg').text(pointed = st2draw.treeAddPoints(data.data));

      var lines = st2draw.tornament(pointed);
      $('#dbg2').text(lines);
      var s ="";
   });
  </script>
  <body>
    <div id="dbg">hoge</div>
    <div id="dbg2">h</div>
    <canvas id="canv" width="640" height="480"></canvas>
  </body>
</html>